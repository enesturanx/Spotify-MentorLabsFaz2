{"failedCount":1,"prefixedPath":"src\/test\/java\/com\/spotify\/hybridTest.feature","packageQualifiedName":"src.test.java.com.spotify.hybridTest","loopIndex":-1,"relativePath":"src\/test\/java\/com\/spotify\/hybridTest.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":29440800,"millis":29.4408,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"configure driver = {type:'chromedriver' , executable:'src\/test\/resources\/chromedriver.exe'}"},"stepLog":"13:53:28.387 karate.env system property was: null \n"},{"result":{"nanos":1036100,"millis":1.0361,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"url 'https:\/\/api.spotify.com\/v1'"}},{"result":{"nanos":4904900,"millis":4.9049,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"call read 'variables.json'"}},{"result":{"nanos":1178400,"millis":1.1784,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"configure headers = {Content-Type: 'application\/json', Authorization: #(authID)}"}},{"result":{"nanos":2482526800,"millis":2482.5268,"status":"passed"},"step":{"line":9,"prefix":"Given","index":0,"text":"driver 'https:\/\/open.spotify.com\/'"},"stepLog":"13:53:28.455 preferred port 9515 not available, will use: 60891\n"},{"result":{"nanos":9154906700,"errorMessage":"class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\nclasspath:com\/spotify\/login.feature:4\nsrc\/test\/java\/com\/spotify\/hybridTest.feature:10","millis":9154.9067,"status":"failed"},"step":{"line":10,"prefix":"*","index":1,"text":"def login = callonce read('classpath:com\/spotify\/login.feature')"},"stepLog":"13:53:40.076 src\/test\/java\/com\/spotify\/hybridTest.feature:10\n* def login = callonce read('classpath:com\/spotify\/login.feature')\nclass java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\nclasspath:com\/spotify\/login.feature:4\nsrc\/test\/java\/com\/spotify\/hybridTest.feature:10\n","callResults":[{"failedCount":1,"prefixedPath":"classpath:com\/spotify\/login.feature","packageQualifiedName":"com.spotify.login","loopIndex":-1,"relativePath":"com\/spotify\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":18024000,"millis":18.024,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"maximize()"},"stepLog":"13:53:30.946 >> lock acquired, begin callonce: read('classpath:com\/spotify\/login.feature')\n"},{"result":{"nanos":9086837900,"errorMessage":"js failed:\n>>>>\n01: waitFor(login.loginButton).click()\n<<<<\norg.graalvm.polyglot.PolyglotException: waitUntil (js): failed after 3 retries and 9052 milliseconds\n- com.intuit.karate.driver.DriverOptions.retry(DriverOptions.java:517)\n- com.intuit.karate.driver.WebDriver.waitUntil(WebDriver.java:433)\n- com.intuit.karate.driver.DriverOptions.waitForAny(DriverOptions.java:700)\n- com.intuit.karate.driver.Driver.waitFor(Driver.java:236)\n- <js>.:anonymous(Unnamed:1)\n\nclasspath:com\/spotify\/login.feature:6","millis":9086.8379,"status":"failed"},"step":{"line":6,"prefix":"When","index":1,"text":"waitFor(login.loginButton).click()"},"stepLog":"13:53:31.005 waitUntil (js) - retry #1\n13:53:34.020 waitUntil (js) - retry #2\n13:53:37.036 waitUntil (js) - retry #3\n13:53:40.050 waitUntil (js): failed after 3 retries and 9052 milliseconds\n13:53:40.076 classpath:com\/spotify\/login.feature:6\nWhen waitFor(login.loginButton).click()\njs failed:\n>>>>\n01: waitFor(login.loginButton).click()\n<<<<\norg.graalvm.polyglot.PolyglotException: waitUntil (js): failed after 3 retries and 9052 milliseconds\n- com.intuit.karate.driver.DriverOptions.retry(DriverOptions.java:517)\n- com.intuit.karate.driver.WebDriver.waitUntil(WebDriver.java:433)\n- com.intuit.karate.driver.DriverOptions.waitForAny(DriverOptions.java:700)\n- com.intuit.karate.driver.Driver.waitFor(Driver.java:236)\n- <js>.:anonymous(Unnamed:1)\n\nclasspath:com\/spotify\/login.feature:6\n"},{"result":{"nanos":0,"errorMessage":"class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\nclasspath:com\/spotify\/login.feature:4","millis":0.0,"status":"failed"},"step":{"endLine":0,"line":4,"prefix":"*","index":-1,"text":"scenario [run] failed"},"stepLog":"class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\r\n\tat com.intuit.karate.driver.WebDriver.screenshot(WebDriver.java:511)\r\n\tat com.intuit.karate.driver.WebDriver.screenshot(WebDriver.java:504)\r\n\tat com.intuit.karate.driver.Driver.onFailure(Driver.java:491)\r\n\tat com.intuit.karate.core.ScenarioRuntime.execute(ScenarioRuntime.java:500)\r\n\tat com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:402)\r\n\tat com.intuit.karate.core.FeatureRuntime.processScenario(FeatureRuntime.java:181)\r\n\tat java.base\/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat com.intuit.karate.core.ScenarioIterator.tryAdvance(ScenarioIterator.java:156)\r\n\tat java.base\/java.util.Spliterator.forEachRemaining(Spliterator.java:332)\r\n\tat java.base\/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base\/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base\/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base\/java.util.Spliterators$1Adapter.forEachRemaining(Spliterators.java:706)\r\n\tat com.intuit.karate.core.FeatureRuntime.run(FeatureRuntime.java:164)\r\n\tat com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:2007)\r\n\tat com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1909)\r\n\tat com.intuit.karate.core.ScenarioEngine.callOnce(ScenarioEngine.java:1986)\r\n\tat com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1924)\r\n\tat com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2145)\r\n\tat com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2124)\r\n\tat com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1316)\r\n\tat com.intuit.karate.core.ScenarioEngine.assign(ScenarioEngine.java:1349)\r\n\tat com.intuit.karate.ScenarioActions.def(ScenarioActions.java:188)\r\n\tat java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base\/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat com.intuit.karate.core.StepRuntime.execute(StepRuntime.java:280)\r\n\tat com.intuit.karate.core.ScenarioRuntime.execute(ScenarioRuntime.java:459)\r\n\tat com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:402)\r\n\tat com.intuit.karate.core.FeatureRuntime.processScenario(FeatureRuntime.java:181)\r\n\tat java.base\/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat com.intuit.karate.core.ScenarioIterator.tryAdvance(ScenarioIterator.java:156)\r\n\tat java.base\/java.util.Spliterator.forEachRemaining(Spliterator.java:332)\r\n\tat java.base\/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base\/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base\/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base\/java.util.Spliterators$1Adapter.forEachRemaining(Spliterators.java:706)\r\n\tat com.intuit.karate.core.FeatureRuntime.run(FeatureRuntime.java:164)\r\n\tat java.base\/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base\/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat com.intuit.karate.core.SyncExecutorService.execute(SyncExecutorService.java:70)\r\n\tat java.base\/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n\tat com.intuit.karate.Suite.run(Suite.java:235)\r\n\tat com.intuit.karate.Runner$Builder.parallel(Runner.java:575)\r\n\tat com.intuit.karate.cli.IdeMain.main(IdeMain.java:60)\r\n\tat cucumber.api.cli.Main.main(Main.java:34)\r\n13:53:40.076 classpath:com\/spotify\/login.feature:6\nWhen waitFor(login.loginButton).click()\nscenario [run] failed\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\r\n\tat com.intuit.karate.driver.WebDriver.screenshot(WebDriver.java:511)\r\n\tat com.intuit.karate.driver.WebDriver.screenshot(WebDriver.java:504)\r\n\tat com.intuit.karate.driver.Driver.onFailure(Driver.java:491)\r\n\tat com.intuit.karate.core.ScenarioRuntime.execute(ScenarioRuntime.java:500)\r\n\tat com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:402)\r\n\tat com.intuit.karate.core.FeatureRuntime.processScenario(FeatureRuntime.java:181)\r\n\tat java.base\/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat com.intuit.karate.core.ScenarioIterator.tryAdvance(ScenarioIterator.java:156)\r\n\tat java.base\/java.util.Spliterator.forEachRemaining(Spliterator.java:332)\r\n\tat java.base\/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base\/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base\/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base\/java.util.Spliterators$1Adapter.forEachRemaining(Spliterators.java:706)\r\n\tat com.intuit.karate.core.FeatureRuntime.run(FeatureRuntime.java:164)\r\n\tat com.intuit.karate.core.ScenarioEngine.callFeature(ScenarioEngine.java:2007)\r\n\tat com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1909)\r\n\tat com.intuit.karate.core.ScenarioEngine.callOnce(ScenarioEngine.java:1986)\r\n\tat com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1924)\r\n\tat com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2145)\r\n\tat com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2124)\r\n\tat com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1316)\r\n\tat com.intuit.karate.core.ScenarioEngine.assign(ScenarioEngine.java:1349)\r\n\tat com.intuit.karate.ScenarioActions.def(ScenarioActions.java:188)\r\n\tat java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base\/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat com.intuit.karate.core.StepRuntime.execute(StepRuntime.java:280)\r\n\tat com.intuit.karate.core.ScenarioRuntime.execute(ScenarioRuntime.java:459)\r\n\tat com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:402)\r\n\tat com.intuit.karate.core.FeatureRuntime.processScenario(FeatureRuntime.java:181)\r\n\tat java.base\/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat com.intuit.karate.core.ScenarioIterator.tryAdvance(ScenarioIterator.java:156)\r\n\tat java.base\/java.util.Spliterator.forEachRemaining(Spliterator.java:332)\r\n\tat java.base\/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base\/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base\/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base\/java.util.Spliterators$1Adapter.forEachRemaining(Spliterators.java:706)\r\n\tat com.intuit.karate.core.FeatureRuntime.run(FeatureRuntime.java:164)\r\n\tat java.base\/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base\/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat com.intuit.karate.core.SyncExecutorService.execute(SyncExecutorService.java:70)\r\n\tat java.base\/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n\tat com.intuit.karate.Suite.run(Suite.java:235)\r\n\tat com.intuit.karate.Runner$Builder.parallel(Runner.java:575)\r\n\tat com.intuit.karate.cli.IdeMain.main(IdeMain.java:60)\r\n\tat cucumber.api.cli.Main.main(Main.java:34)\r\n\n"}],"line":4,"description":"","durationMillis":9104.8619,"failed":true,"error":"class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\nclasspath:com\/spotify\/login.feature:4","executorName":"main","name":"Login","startTime":1655808810971,"refId":"[1:4]","endTime":1655808820076,"exampleIndex":-1}],"callDepth":1,"name":"Login Spotify","description":"","resultDate":"2022-06-21 01:53:44 ÖS","durationMillis":9104.8619,"passedCount":0}]},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"Then","index":2,"text":"match waitFor(homePage.userBar).enabled == true"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"And","index":3,"text":"path '\/me'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"When","index":4,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"Then","index":5,"text":"def userID = response.id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"And","index":6,"text":"path '\/users\/'+userID+'\/playlists'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":7,"text":"request requestBody"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"When","index":8,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"*","index":10,"text":"def playlistID = response.id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"And","index":11,"text":"path '\/search'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":12,"text":"param q = 'The Final Countdown'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":13,"text":"param type = 'track'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"When","index":14,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":16,"text":"def songUri = response.tracks.items[0].uri"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"And","index":17,"text":"path '\/playlists\/'+playlistID+'\/tracks'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"And","index":18,"text":"request {\"uris\": [#(songUri)]}"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"When","index":19,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"Then","index":20,"text":"status 201"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"*","index":21,"text":"refresh()"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"*","index":22,"text":"waitFor(homePage.playList).click()"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":23,"text":"waitFor(playList.play).click()"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"*","index":24,"text":"waitForEnabled(playList.pause)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":25,"text":"path '\/me\/player\/currently-playing'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"When","index":26,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"Then","index":27,"text":"match response.item.name == 'The Final Countdown'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":28,"text":"match response.is_playing == true"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"*","index":29,"text":"delay(15000)"}}],"line":8,"description":"","durationMillis":11673.9937,"failed":true,"error":"class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\nclasspath:com\/spotify\/login.feature:4\nsrc\/test\/java\/com\/spotify\/hybridTest.feature:10","executorName":"main","name":"Hybrid Test","startTime":1655808808258,"refId":"[1:8]","endTime":1655808820076,"exampleIndex":-1}],"callDepth":0,"name":"Hybrid Test Spotify","description":"","resultDate":"2022-06-21 01:53:44 ÖS","durationMillis":11673.9937,"passedCount":0}