{"failedCount":1,"prefixedPath":"src\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature","packageQualifiedName":"src.test.java.com.spotify.endtoendtest.endtoend","loopIndex":-1,"relativePath":"src\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":25721500,"millis":25.7215,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"configure driver = {type:'chromedriver' , executable:'src\/test\/resources\/chromedriver.exe'}"},"stepLog":"15:03:46.252 karate.env system property was: null \n"},{"result":{"nanos":4688900,"millis":4.6889,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"call read 'classpath:com\/spotify\/hybridtest\/variables.json'"}},{"result":{"nanos":821300,"millis":0.8213,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"url 'https:\/\/api.spotify.com\/v1'"}},{"result":{"nanos":1095200,"millis":1.0952,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"configure headers = {Content-Type: 'application\/json', Authorization: #(authID)}"}},{"result":{"nanos":9669600,"millis":9.6696,"status":"passed"},"step":{"endLine":14,"background":true,"line":7,"prefix":"And","docString":"function(x,y) {\n    for(var i = 0; i <y ; i++){\n    x[i].click();\n    }\n}","index":4,"text":"def clickFunction ="}},{"result":{"nanos":4712400,"millis":4.7124,"status":"passed"},"step":{"endLine":25,"background":true,"line":16,"prefix":"And","docString":"function(x,y) {\n    var data = \"\";\n    for(var i = 0; i <x ; i++){\n    data = data + y.items[i].track.uri;\n    }\n    return data;\n}","index":5,"text":"def addData ="}},{"result":{"nanos":4695204800,"millis":4695.2048,"status":"passed"},"step":{"line":28,"prefix":"Given","index":0,"text":"driver 'https:\/\/open.spotify.com\/'"},"stepLog":"15:03:46.332 preferred port 9515 not available, will use: 51300\n"},{"result":{"nanos":4182157100,"millis":4182.1571,"status":"passed"},"step":{"line":29,"prefix":"*","index":1,"text":"def login = callonce read('classpath:com\/spotify\/login.feature')"},"stepLog":"15:03:55.215 << lock released, cached callonce: read('classpath:com\/spotify\/login.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:com\/spotify\/login.feature","packageQualifiedName":"com.spotify.login","loopIndex":-1,"relativePath":"com\/spotify\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":160804300,"millis":160.8043,"status":"passed"},"step":{"comments":["# Login to account(UI)"],"line":6,"prefix":"*","index":0,"text":"maximize()"},"stepLog":"15:03:51.044 >> lock acquired, begin callonce: read('classpath:com\/spotify\/login.feature')\n"},{"result":{"nanos":65500600,"millis":65.5006,"status":"passed"},"step":{"line":7,"prefix":"When","index":1,"text":"waitFor(login.loginButton).click()"}},{"result":{"nanos":3473331700,"millis":3473.3317,"status":"passed"},"step":{"line":8,"prefix":"And","index":2,"text":"waitFor(login.username).input(username)"},"stepLog":"15:03:51.322 waitUntil (js) - retry #1\n"},{"result":{"nanos":324299200,"millis":324.2992,"status":"passed"},"step":{"line":9,"prefix":"And","index":3,"text":"waitFor(login.password).input(password)"}},{"result":{"nanos":97173700,"millis":97.1737,"status":"passed"},"step":{"line":10,"prefix":"And","index":4,"text":"waitFor(login.sendButton).click()"}}],"executorName":"main","line":4,"name":"Login","description":"","durationMillis":4121.1095,"startTime":1655899431086,"failed":false,"refId":"[1:4]","endTime":1655899435212,"exampleIndex":-1}],"callDepth":1,"name":"Login Spotify","description":"","resultDate":"2022-06-22 03:04:28 ÖS","durationMillis":4121.1095,"passedCount":1}]},{"result":{"nanos":3113453500,"millis":3113.4535,"status":"passed"},"step":{"line":30,"prefix":"Then","index":2,"text":"match waitFor(homePage.userBar).enabled == true"},"stepLog":"15:03:55.231 waitUntil (js) - retry #1\n"},{"result":{"nanos":3080809800,"millis":3080.8098,"status":"passed"},"step":{"line":33,"prefix":"When","index":3,"text":"scroll('{a}Ruh Hali')"}},{"result":{"nanos":293971300,"millis":293.9713,"status":"passed"},"step":{"line":34,"prefix":"And","index":4,"text":"waitFor('{a}Ruh Hali').click()"}},{"result":{"nanos":3161808200,"millis":3161.8082,"status":"passed"},"step":{"line":35,"prefix":"And","index":5,"text":"waitFor('{div}Pozitif').click()"},"stepLog":"15:04:01.727 waitUntil (js) - retry #1\n"},{"result":{"nanos":3021194200,"millis":3021.1942,"status":"passed"},"step":{"line":36,"prefix":"*","index":6,"text":"delay(3000)"}},{"result":{"nanos":1878200,"millis":1.8782,"status":"passed"},"step":{"line":37,"prefix":"*","index":7,"text":"def filter = function(x){return x.attribute('class').contains('tGKwoPuvNBNK3TzCS5OH') }"}},{"result":{"nanos":487043100,"millis":487.0431,"status":"passed"},"step":{"line":38,"prefix":"*","index":8,"text":"def list = locateAll('button[data-testid=add-button]', filter)"}},{"result":{"nanos":209586500,"millis":209.5865,"status":"passed"},"step":{"line":39,"prefix":"*","index":9,"text":"clickFunction(list,3)"}},{"result":{"nanos":201379500,"millis":201.3795,"status":"passed"},"step":{"line":40,"prefix":"And","index":10,"text":"waitFor('.r9YzlaAPnM2LGK97GSfa').click()"}},{"result":{"nanos":3109305600,"millis":3109.3056,"status":"passed"},"step":{"line":41,"prefix":"And","index":11,"text":"waitFor('button[data-testid=play-button]').click()"},"stepLog":"15:04:08.825 waitUntil (js) - retry #1\n"},{"result":{"nanos":10010783000,"millis":10010.783,"status":"passed"},"step":{"line":42,"prefix":"*","index":12,"text":"delay(10000)"}},{"result":{"nanos":1494000,"millis":1.494,"status":"passed"},"step":{"line":44,"prefix":"And","index":13,"text":"path '\/me\/tracks'"}},{"result":{"nanos":824441600,"millis":824.4416,"status":"passed"},"step":{"line":45,"prefix":"When","index":14,"text":"method get"},"stepLog":"15:04:21.911 request:\n1 > GET https:\/\/api.spotify.com\/v1\/me\/tracks\n1 > Content-Type: application\/json\n1 > Authorization: Bearer BQChqcjPBOVsPM27RkX0C-Iz3xaSfOgTv26lGE9CSvJqPG-luNSrywe2ACbTCYG3qhVRnl7sCtsieTcoIdjAtXgcQfKgcZYVYvDTT97d4X_p5pHHhcYaKEr5bpuxi3yjL4V3FFv57rhzXuUisSQ8KB5VW0GrvRq77UqJ7EokjAJ2ywB2FAfvIxCfba1iJNrOY4O2zj-Gmx2LEpfzc6Z7VV_InaNrqNiTkCfQpM4C1w-SwfR4V7RVg3YmGV95pmptJki9G5Hiqxv8k65cOPyJ__0cqLzHQ1o\n1 > Host: api.spotify.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.1.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:04:22.730 response time in milliseconds: 819\n1 < 401\n1 < www-authenticate: Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"\n1 < access-control-allow-origin: *\n1 < access-control-allow-headers: Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token\n1 < access-control-allow-methods: GET, POST, OPTIONS, PUT, DELETE, PATCH\n1 < access-control-allow-credentials: true\n1 < access-control-max-age: 604800\n1 < content-type: application\/json\n1 < strict-transport-security: max-age=31536000\n1 < x-content-type-options: nosniff\n1 < date: Wed, 22 Jun 2022 12:04:24 GMT\n1 < server: envoy\n1 < Via: HTTP\/2 edgeproxy, 1.1 google\n1 < Alt-Svc: h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000\n1 < Transfer-Encoding: chunked\n{\n  \"error\": {\n    \"status\": 401,\n    \"message\": \"The access token expired\"\n  }\n}\n"},{"result":{"nanos":22422100,"errorMessage":"js failed:\n>>>>\n01: karate.log('[print]',addData(response.items.length,response))\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"length\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46","millis":22.4221,"status":"failed"},"step":{"line":46,"prefix":"*","index":15,"text":"print addData(response.items.length,response)"},"stepLog":"15:04:22.755 src\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46\n* print addData(response.items.length,response)\njs failed:\n>>>>\n01: karate.log('[print]',addData(response.items.length,response))\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"length\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46\n","embeds":[{"file":"target\\karate-reports\\src.test.java.com.spotify.endtoendtest.endtoend_1_1655899463321.png","html":"<img src=\"src.test.java.com.spotify.endtoendtest.endtoend_1_1655899463321.png\"\/>","resourceType":"PNG"}]}],"line":27,"description":"","durationMillis":36463.6414,"failed":true,"error":"js failed:\n>>>>\n01: karate.log('[print]',addData(response.items.length,response))\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"length\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46","executorName":"main","name":"Endtoend Test Scenario","startTime":1655899426143,"refId":"[1:27]","endTime":1655899463330,"exampleIndex":-1}],"callDepth":0,"name":"End to end Test","description":"","resultDate":"2022-06-22 03:04:28 ÖS","durationMillis":36463.6414,"passedCount":0}