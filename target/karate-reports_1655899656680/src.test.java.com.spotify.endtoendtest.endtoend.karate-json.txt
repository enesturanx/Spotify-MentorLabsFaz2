{"failedCount":1,"prefixedPath":"src\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature","packageQualifiedName":"src.test.java.com.spotify.endtoendtest.endtoend","loopIndex":-1,"relativePath":"src\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":25052700,"millis":25.0527,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"configure driver = {type:'chromedriver' , executable:'src\/test\/resources\/chromedriver.exe'}"},"stepLog":"15:05:25.356 karate.env system property was: null \n"},{"result":{"nanos":5839800,"millis":5.8398,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"call read 'classpath:com\/spotify\/hybridtest\/variables.json'"}},{"result":{"nanos":662800,"millis":0.6628,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"url 'https:\/\/api.spotify.com\/v1'"}},{"result":{"nanos":1059900,"millis":1.0599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"configure headers = {Content-Type: 'application\/json', Authorization: #(authID)}"}},{"result":{"nanos":12184900,"millis":12.1849,"status":"passed"},"step":{"endLine":14,"background":true,"line":7,"prefix":"And","docString":"function(x,y) {\n    for(var i = 0; i <y ; i++){\n    x[i].click();\n    }\n}","index":4,"text":"def clickFunction ="}},{"result":{"nanos":5575200,"millis":5.5752,"status":"passed"},"step":{"endLine":25,"background":true,"line":16,"prefix":"And","docString":"function(x,y) {\n    var data = \"\";\n    for(var i = 0; i <x ; i++){\n    data = data + y.items[i].track.uri;\n    }\n    return data;\n}","index":5,"text":"def addData ="}},{"result":{"nanos":4450583600,"millis":4450.5836,"status":"passed"},"step":{"line":28,"prefix":"Given","index":0,"text":"driver 'https:\/\/open.spotify.com\/'"},"stepLog":"15:05:25.435 preferred port 9515 not available, will use: 52093\n"},{"result":{"nanos":4294070600,"millis":4294.0706,"status":"passed"},"step":{"line":29,"prefix":"*","index":1,"text":"def login = callonce read('classpath:com\/spotify\/login.feature')"},"stepLog":"15:05:34.178 << lock released, cached callonce: read('classpath:com\/spotify\/login.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:com\/spotify\/login.feature","packageQualifiedName":"com.spotify.login","loopIndex":-1,"relativePath":"com\/spotify\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":188664300,"millis":188.6643,"status":"passed"},"step":{"comments":["# Login to account(UI)"],"line":6,"prefix":"*","index":0,"text":"maximize()"},"stepLog":"15:05:29.899 >> lock acquired, begin callonce: read('classpath:com\/spotify\/login.feature')\n"},{"result":{"nanos":205272800,"millis":205.2728,"status":"passed"},"step":{"line":7,"prefix":"When","index":1,"text":"waitFor(login.loginButton).click()"}},{"result":{"nanos":3507049900,"millis":3507.0499,"status":"passed"},"step":{"line":8,"prefix":"And","index":2,"text":"waitFor(login.username).input(username)"},"stepLog":"15:05:30.472 waitUntil (js) - retry #1\n"},{"result":{"nanos":308880500,"millis":308.8805,"status":"passed"},"step":{"line":9,"prefix":"And","index":3,"text":"waitFor(login.password).input(password)"}},{"result":{"nanos":37791200,"millis":37.7912,"status":"passed"},"step":{"line":10,"prefix":"And","index":4,"text":"waitFor(login.sendButton).click()"}}],"executorName":"main","line":4,"name":"Login","description":"","durationMillis":4247.6587,"startTime":1655899529929,"failed":false,"refId":"[1:4]","endTime":1655899534178,"exampleIndex":-1}],"callDepth":1,"name":"Login Spotify","description":"","resultDate":"2022-06-22 03:06:00 ÖS","durationMillis":4247.6587,"passedCount":1}]},{"result":{"nanos":3488619100,"millis":3488.6191,"status":"passed"},"step":{"line":30,"prefix":"Then","index":2,"text":"match waitFor(homePage.userBar).enabled == true"},"stepLog":"15:05:34.206 waitUntil (js) - retry #1\n"},{"result":{"nanos":136361500,"millis":136.3615,"status":"passed"},"step":{"line":33,"prefix":"When","index":3,"text":"scroll('{a}Ruh Hali')"}},{"result":{"nanos":260085700,"millis":260.0857,"status":"passed"},"step":{"line":34,"prefix":"And","index":4,"text":"waitFor('{a}Ruh Hali').click()"}},{"result":{"nanos":3143674500,"millis":3143.6745,"status":"passed"},"step":{"line":35,"prefix":"And","index":5,"text":"waitFor('{div}Pozitif').click()"},"stepLog":"15:05:38.082 waitUntil (js) - retry #1\n"},{"result":{"nanos":3021355600,"millis":3021.3556,"status":"passed"},"step":{"line":36,"prefix":"*","index":6,"text":"delay(3000)"}},{"result":{"nanos":2336800,"millis":2.3368,"status":"passed"},"step":{"line":37,"prefix":"*","index":7,"text":"def filter = function(x){return x.attribute('class').contains('tGKwoPuvNBNK3TzCS5OH') }"}},{"result":{"nanos":543331600,"millis":543.3316,"status":"passed"},"step":{"line":38,"prefix":"*","index":8,"text":"def list = locateAll('button[data-testid=add-button]', filter)"}},{"result":{"nanos":162391100,"millis":162.3911,"status":"passed"},"step":{"line":39,"prefix":"*","index":9,"text":"clickFunction(list,3)"}},{"result":{"nanos":149016700,"millis":149.0167,"status":"passed"},"step":{"line":40,"prefix":"And","index":10,"text":"waitFor('.r9YzlaAPnM2LGK97GSfa').click()"}},{"result":{"nanos":3108795700,"millis":3108.7957,"status":"passed"},"step":{"line":41,"prefix":"And","index":11,"text":"waitFor('button[data-testid=play-button]').click()"},"stepLog":"15:05:45.122 waitUntil (js) - retry #1\n"},{"result":{"nanos":10005637000,"millis":10005.637,"status":"passed"},"step":{"line":42,"prefix":"*","index":12,"text":"delay(10000)"}},{"result":{"nanos":1218200,"millis":1.2182,"status":"passed"},"step":{"line":44,"prefix":"And","index":13,"text":"path '\/me\/tracks'"}},{"result":{"nanos":796634000,"millis":796.634,"status":"passed"},"step":{"line":45,"prefix":"When","index":14,"text":"method get"},"stepLog":"15:05:58.216 request:\n1 > GET https:\/\/api.spotify.com\/v1\/me\/tracks\n1 > Content-Type: application\/json\n1 > Authorization: Bearer QCXcXbDiBY5bOyGtA-50CUQ-kS9Gl3o03ZkqHRDWmoHSM5N1kVsVFcCO_2gYrlWzDR1ssQerIFtG3x5Ag3Pm618RSBX7d40rDDXVuoNoni34RD5daXCUVAbJxg_70u4UDYkLlGoKNyAKNeQE8b6hFhuzrNmKY_TsR6OPsBreU8auoN24maXTH0wf1HlWKM2WLxlMhaIINI52fTbqVskm6mp21XBiK7MxvWVbiUo7NXMOEPJqT54NlibC4Nb8fUv-3S5l5D98fBJGzckAB6wkIL7m4YGLHc\n1 > Host: api.spotify.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.1.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n15:05:58.997 response time in milliseconds: 781\n1 < 401\n1 < www-authenticate: Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"Invalid access token\"\n1 < access-control-allow-origin: *\n1 < access-control-allow-headers: Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token\n1 < access-control-allow-methods: GET, POST, OPTIONS, PUT, DELETE, PATCH\n1 < access-control-allow-credentials: true\n1 < access-control-max-age: 604800\n1 < content-type: application\/json\n1 < strict-transport-security: max-age=31536000\n1 < x-content-type-options: nosniff\n1 < date: Wed, 22 Jun 2022 12:06:00 GMT\n1 < server: envoy\n1 < Via: HTTP\/2 edgeproxy, 1.1 google\n1 < Alt-Svc: h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000\n1 < Transfer-Encoding: chunked\n{\n  \"error\": {\n    \"status\": 401,\n    \"message\": \"Invalid access token\"\n  }\n}\n"},{"result":{"nanos":22483900,"errorMessage":"js failed:\n>>>>\n01: karate.log('[print]',addData(response.items.length,response))\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"length\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46","millis":22.4839,"status":"failed"},"step":{"line":46,"prefix":"*","index":15,"text":"print addData(response.items.length,response)"},"stepLog":"15:05:59.026 src\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46\n* print addData(response.items.length,response)\njs failed:\n>>>>\n01: karate.log('[print]',addData(response.items.length,response))\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"length\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46\n","embeds":[{"file":"target\\karate-reports\\src.test.java.com.spotify.endtoendtest.endtoend_1_1655899559595.png","html":"<img src=\"src.test.java.com.spotify.endtoendtest.endtoend_1_1655899559595.png\"\/>","resourceType":"PNG"}]}],"line":27,"description":"","durationMillis":33636.9709,"failed":true,"error":"js failed:\n>>>>\n01: karate.log('[print]',addData(response.items.length,response))\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"length\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/com\/spotify\/endtoendtest\/endtoend.feature:46","executorName":"main","name":"Endtoend Test Scenario","startTime":1655899525245,"refId":"[1:27]","endTime":1655899559607,"exampleIndex":-1}],"callDepth":0,"name":"End to end Test","description":"","resultDate":"2022-06-22 03:06:00 ÖS","durationMillis":33636.9709,"passedCount":0}